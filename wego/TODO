make free functions work
find bug shown by 'test_pi2 1'
